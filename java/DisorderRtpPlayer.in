#! /bin/sh
#
# This file is part of DisOrder.
# Copyright (C) 2010 Richard Kettlewell
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
set -e

# Find Java
if test -z "$JAVA"; then
  if test -z "$JAVA_HOME"; then
    if test -x /usr/libexec/java_home; then
      JAVA_HOME="`/usr/libexec/java_home`"
    fi
  fi
  if test -z "$JAVA_HOME"; then
    JAVA=java
  else
    JAVA="$JAVA_HOME/bin/java"
  fi
fi

# Default location for our .jar file
cp="jardir/disorder.jar"

# If we seem to be part of a .app then use the embedded .jar file
# and discard any command line arguments
dir="${0%/*}"
if test -e "$dir/../Resources/disorder.jar"; then
  cp="$dir/../Resources/disorder.jar"
  set --
fi

exec "$JAVA" -cp "$cp" DisorderRtpPlayer "$@"
